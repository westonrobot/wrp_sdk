<!-- HTML header for doxygen 1.9.1-->
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=9" />
  <meta name="generator" content="Doxygen 1.9.1" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Weston Robot Platform SDK (wrp_sdk): Weston Robot Platform SDK</title>
  <link href="tabs.css" rel="stylesheet" type="text/css" />
  <script type="text/javascript" src="jquery.js"></script>
  <script type="text/javascript" src="dynsections.js"></script>
  <link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
  <link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
  <div id="top"><!-- do not remove this div, it is closed by doxygen! -->
    <div id="titlearea">
      <!-- Always use latest version.js -->
      <script type="text/javascript" src="../../version.js"></script>
      <table cellspacing="0" cellpadding="0">
        <tbody>
          <tr style="height: 56px;">
            <td id="projectlogo"><img alt="Logo" src="logo.png" /></td>
            <td id="projectalign" style="padding-left: 0.5em;">
              <div id="projectname">Weston Robot Platform SDK (wrp_sdk)
                &#160;<span id="projectnumber">1.2.2</span>
              </div>
              <div id="projectbrief">A unified interface to access robot bases and peripherals</div>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
    <!-- end header part --><!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Weston Robot Platform SDK </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="md_README"></a> Copyright (c) 2020-2022 <a href="https://www.westonrobot.com/">Weston Robot</a></p>
<h1><a class="anchor" id="autotoc_md1"></a>
Introduction</h1>
<p>This software package provides a C++ interface to communicate with the mobile platforms from Weston Robot, for sending commands to the robot and receiving the latest robot state.</p>
<h3><a class="anchor" id="autotoc_md2"></a>
Supported environments</h3>
<ul>
<li><b>Architecture</b>: x86_64/arm64</li>
<li><b>OS</b>: Ubuntu 18.04/20.04</li>
</ul>
<p>It should also work in other similar Linux environments but only the above listed environments are regularly tested.</p>
<h3><a class="anchor" id="autotoc_md3"></a>
Supported robot platforms</h3>
<p>Hardware support here means that the robot's hardware is still being supported by Weston Robot.</p>
<p><b>Agilex Communication protocol v1.0</b></p>
<p>v1.0 protocol is deprecated, if you are using and older hardware with protocol v1.0, please contact <a href="#" onclick="location.href='mai'+'lto:'+'sup'+'po'+'rt@'+'we'+'sto'+'nr'+'obo'+'t.'+'com'; return false;">Technical Support</a>.</p>
<p><b>Agilex Communication protocol v2.0</b></p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadCenter">Robot   </th><th class="markdownTableHeadCenter">Hardware Version   </th><th class="markdownTableHeadCenter">Firmware Version   </th><th class="markdownTableHeadCenter">Hardware Support   </th><th class="markdownTableHeadCenter">SDK Support    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter">Scout   </td><td class="markdownTableBodyCenter">2.0   </td><td class="markdownTableBodyCenter">&gt; v1.5   </td><td class="markdownTableBodyCenter">Active   </td><td class="markdownTableBodyCenter">Active    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyCenter">Scout Mini   </td><td class="markdownTableBodyCenter">1.0   </td><td class="markdownTableBodyCenter">&gt; v1.5   </td><td class="markdownTableBodyCenter">Active   </td><td class="markdownTableBodyCenter">Active    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter">Hunter   </td><td class="markdownTableBodyCenter">2.0   </td><td class="markdownTableBodyCenter">&gt; v2.0   </td><td class="markdownTableBodyCenter">Active   </td><td class="markdownTableBodyCenter">Active    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyCenter">Tracer   </td><td class="markdownTableBodyCenter">1.0   </td><td class="markdownTableBodyCenter">&gt; v1.5   </td><td class="markdownTableBodyCenter">Active   </td><td class="markdownTableBodyCenter">Active    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter">Bunker   </td><td class="markdownTableBodyCenter">1.0   </td><td class="markdownTableBodyCenter">&gt; v2.0   </td><td class="markdownTableBodyCenter">Active   </td><td class="markdownTableBodyCenter">Active   </td></tr>
</table>
<p><b>Weston Robot communication protocol</b></p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadCenter">Robot   </th><th class="markdownTableHeadCenter">rio Version   </th><th class="markdownTableHeadCenter">rcu Version   </th><th class="markdownTableHeadCenter">Hardware Support   </th><th class="markdownTableHeadCenter">SDK Support    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter">Scout 2.5   </td><td class="markdownTableBodyCenter">v0.1.x   </td><td class="markdownTableBodyCenter">v0.1.x   </td><td class="markdownTableBodyCenter">Active   </td><td class="markdownTableBodyCenter">v0.8.x    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyCenter">Scout 2.6   </td><td class="markdownTableBodyCenter">v0.2.x   </td><td class="markdownTableBodyCenter">v0.2.x   </td><td class="markdownTableBodyCenter">Active   </td><td class="markdownTableBodyCenter">v1.x.y   </td></tr>
</table>
<h1><a class="anchor" id="autotoc_md4"></a>
Install the SDK</h1>
<div class="fragment"><div class="line">$ echo &quot;deb https://westonrobot.jfrog.io/artifactory/wrtoolbox-release $(lsb_release -cs) main&quot; | sudo tee /etc/apt/sources.list.d/weston-robot.list</div>
<div class="line">$ curl -sSL &#39;https://westonrobot.jfrog.io/artifactory/api/security/keypair/wr-deb/public&#39; | sudo apt-key add -</div>
<div class="line">$ sudo apt-get update</div>
<div class="line">$ sudo apt-get install wrp_sdk</div>
</div><!-- fragment --><p><b>Note</b>: "apt-get" will install the latest version of wrp_sdk by default. Weston Robot releases stable versions of the SDK twice a year. In case your robot firmware is not compatible with the latest SDK, you can install older versions of the SDK manually. For example,</p>
<div class="fragment"><div class="line">$ sudo apt-get remove wrp_zbus</div>
<div class="line">$ sudo apt-get install wrp_zbus=0.6.1</div>
<div class="line">$ sudo apt-get install wrp_sdk=0.8.7</div>
</div><!-- fragment --><p> Please contact us if you're not sure which version of the SDK you should use.</p>
<h1><a class="anchor" id="autotoc_md5"></a>
Hardware Interface</h1>
<h2><a class="anchor" id="autotoc_md6"></a>
Setup CAN-To-USB adapter</h2>
<ul>
<li>Enable gs_usb kernel module</li>
</ul>
<div class="fragment"><div class="line">$ sudo modprobe gs_usb</div>
</div><!-- fragment --><ul>
<li>Bringup can device</li>
</ul>
<div class="fragment"><div class="line">$ sudo ip link set can0 up type can bitrate 500000</div>
</div><!-- fragment --><ul>
<li>If no error occured during the previous steps, you should be able to see the can device now by using command</li>
</ul>
<div class="fragment"><div class="line">$ ifconfig -a</div>
</div><!-- fragment --><ul>
<li>Install and use can-utils to test the hardware</li>
</ul>
<div class="fragment"><div class="line">$ sudo apt install can-utils</div>
</div><!-- fragment --><ul>
<li>Testing command</li>
</ul>
<div class="fragment"><div class="line"># receiving data from can0</div>
<div class="line">$ candump can0</div>
<div class="line"># send data to can0</div>
<div class="line">$ cansend can0 001#1122334455667788</div>
</div><!-- fragment --><p>Two scripts inside the "./scripts" folder are provided for easy setup. You can run "./setup_can2usb.bash" for the first-time setup and run "./bringup_can2usb.bash" to bring up the device each time you unplug and re-plug the adapter.</p>
<h2><a class="anchor" id="autotoc_md7"></a>
Setup UART</h2>
<p>Generally your UART2USB cable should be automatically recognized as "/dev/ttyUSB0" or something similar and ready for use. If you get the error "... permission denied ..." when trying to open the port, you need to grant access of the port to your user accout:</p>
<div class="fragment"><div class="line">$ sudo usermod -a -G dialout $USER</div>
</div><!-- fragment --><p>You need to re-login to get the change to take effect. </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
